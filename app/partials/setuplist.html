<div class="container" ng-cloack>
    <div ng-hide="auth.user">Sign in to begin</div>

    <div ng-show="auth.user">
        <h2>Setup List</h2>

        <ul class="row" ng-repeat="setup in setups | orderByPriority">
            <li>
                <a ng-model="clicked" ng-init="clicked=false" ng-click="clicked = !clicked">{{setup.$id}}</a>

                <div ng-if="clicked" class="animate-if">
                    <div class="col-xs-12 col-sm-11 col-md-10">
                        <h2>Setup Details</h2>

                        <div ng-include="'partials/setupview.html'"></div>

                        <div class="form-group">
                            <div class="pull-right">
                                <a class="btn btn-default" ng-click="cloneSetup(setup)"
                                   data-loading-text="Please Wait..."
                                   ng-href="#/setupwizard">Clone Setup</a>

                                <a class="btn btn-primary" ng-click="runSetup(setup)" ng-hide="setup.running"
                                   data-loading-text="Please Wait...">New Run</a>
                                <a class="btn btn-primary" ng-click="abortRun(setup)" ng-show="setup.running"
                                   data-loading-text="Please Wait...">Cancel Run</a>
                                <i class="fa fa-spinner fa-spin" ng-show="setup.running"></i>

                                <div ng-show="setup.running">(stagingJob: {{setup.jobRef.path.m[1]}})</div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>